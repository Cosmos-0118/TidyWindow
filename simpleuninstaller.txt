Simple Uninstaller Roadmap

Goal: deliver a dependable “Apps & Features–style” uninstaller that orchestrates official uninstallers, surfaces progress in WPF, and keeps optional cleanup strictly opt-in after MVP. We accept that a universal “nothing left anywhere” promise is impossible without invasive drivers, so milestones stay lean and reliable.

Phase 0 – Guardrails and Success Criteria [DONE] (see docs/simple-uninstaller-phase0.md)
- [DONE] Define “done” for MVP: enumerate >95% of Add/Remove entries, launch their official uninstall, show success/failure, and never delete arbitrary files automatically.
- [DONE] Document the guarantee gap (no deep scanning, no driver/service removal) so UX messaging and docs stay aligned.
- [DONE] Capture telemetry/diagnostics needs (logging, exit codes, duration) before writing code and include a sandbox “dry run” switch that logs what would happen without invoking uninstallers.

Phase 1 – Inventory & Data Services [DONE] (see docs/simple-uninstaller-phase1.md)
- [DONE] Prototype enumeration in a reusable PowerShell module under `automation/modules/TidyWindow.Automation`, then wrap it with a thin C# service so we avoid duplicating registry parsing logic.
- [DONE] Read `HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall`, `HKLM\SOFTWARE\WOW6432Node\...`, and `HKCU\SOFTWARE\...` in parallel tasks; merge results with `winget list` output when available.
- [DONE] Shape a shared DTO (`InstalledApp`) with Name, Version, Publisher, InstallLocation, UninstallString, QuietUninstallString, WindowsInstaller flag, source tags, and installer lineage hints (e.g., from file metadata) to aid silent heuristics.
- [DONE] Filter defaults: skip `SystemComponent=1` and ReleaseType=Update, but keep toggles for advanced users; cache enumerations until users request a refresh to keep UI snappy.
- [DONE] Expose the inventory through `IAppInventoryService` with async refresh, dry-run logging hooks, and diagnostics metadata for the UI layer.

Phase 2 – Orchestration & Maintenance-Style UI [DONE] (see docs/simple-uninstaller-phase2.md)
- [DONE] Implemented the uninstall decision tree (MSI → QuietUninstall → UninstallString → winget fallback) inside `IAppUninstallService`, emitting structured results with exit codes, stdout/stderr, and timestamps.
- [DONE] Added MSI GUID extraction with `msiexec /x {GUID} /qn /norestart`, plus EXE heuristics that detect installer families (Inno/NSIS/InstallShield) before appending silent flags; dry-run mode logs the exact command sequence instead of executing.
- [DONE] Provided optional `winget uninstall --id <Id> --silent --accept-*` fallback whenever catalog metadata exists and the user enables the toggle.
- [DONE] Shipped the maintenance-style WPF surface featuring the hero header, slim inventory table, action bar (Refresh, Dry Run, Uninstall, Cancel), and activity drawer while adhering to the neutral typography-forward palette.
- [DONE] Delivered inline detail pane content (install path, uninstall mode, winget switches) without secondary dialogs so the experience feels like a dashboard.
- [DONE] Surfaced progress/accessibility affordances: status pills covering Queued/Running/Success/Failed/Cancelled, descriptive log entries, and persistent dry-run toggle adjacent to the hero summary.

Phase 3 – Post-MVP Safe Cleanup (Opt-in)
1. After v1 ships, introduce optional prompts to delete leftover InstallLocation folders when they are empty or clearly benign; never default to deletion.
2. Surface suggested shortcut removals (Start Menu, Desktop) only when they point into the removed InstallLocation.
3. Keep all registry/service cleanup actions outside of scope; instead, log potential items for future scripted fixes.
4. Present cleanup suggestions in a dedicated pane with per-item confirmations and clear risk copy.

Phase 4 – Future Enhancements
1. Add pluggable cleanup providers for specific apps (catalog-driven scripts) and keep them opt-in.
2. Explore a “deep scan” mode that inspects `%AppData%`, `%ProgramData%`, etc., but hide it behind expert settings and bold warnings.
3. Integrate telemetry feedback loops to learn which uninstallers fail and feed remediation scripts (leveraging `automation/` modules).
4. Expand automated testing: mock registry providers, fake process runners, WPF UI smoke tests, and localization verification; document limits in `docs/automation.md`.

Checkpoints & Deliverables
- After Phase 1: PowerShell-backed command-line prototype proving enumeration accuracy plus cached DTO contract agreed upon.
- After Phase 2: end-to-end MVP with WPF UI, dry-run mode, and telemetry/logging ready for internal dogfooding.
- After Phase 3: public preview that introduces opt-in cleanup prompts with supporting documentation.
- After Phase 4: advanced editions gated by demand/telemetry insights.

Next Actions for the Team
1. Approve the slimmed milestone structure (Inventory/Data + Orchestration/UX as MVP, Cleanup as post-v1).
2. Spin up GitHub issues for Phase 0 groundwork, Phase 1 services, Phase 2 orchestration/UI, and Phase 3 cleanup backlog; assign owners.
3. Schedule a design review for the uninstall orchestration service + dry-run experience before coding begins.
4. Stand up the telemetry/logging plan so instrumentation ships with MVP and feeds future cleanup intelligence.