<UserControl x:Class="TidyWindow.App.Controls.SimpleProgressBar"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Name="Root"
             Height="34"
             MinWidth="120">
    <Border x:Name="TrackBorder"
            Background="{Binding TrackBrush, ElementName=Root}"
            CornerRadius="12"
            BorderBrush="#1E2F4B"
            BorderThickness="1"
            Padding="0"
            SnapsToDevicePixels="True">
        <Grid>
            <Border x:Name="FillBorder"
                    Background="{Binding FillBrush, ElementName=Root}"
                    CornerRadius="10"
                    Margin="2"
                    RenderTransformOrigin="0,0.5">
                <Border.RenderTransform>
                    <ScaleTransform x:Name="FillTransform" ScaleX="0" ScaleY="1"/>
                </Border.RenderTransform>
            </Border>
            <Grid Margin="14,0"
                  VerticalAlignment="Center">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Text="{Binding StatusText, ElementName=Root}"
                           Foreground="{Binding TextForeground, ElementName=Root}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center"
                           TextTrimming="CharacterEllipsis"/>
                <TextBlock Grid.Column="1"
                           Margin="12,0,0,0"
                           Text="{Binding PercentageText, ElementName=Root}"
                           Foreground="{Binding TextForeground, ElementName=Root}"
                           FontSize="12"
                           FontWeight="SemiBold"
                           VerticalAlignment="Center">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Visible"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding ShowPercentage, ElementName=Root}" Value="False">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </Grid>
        </Grid>
    </Border>
</UserControl>
