<UserControl x:Class="TidyWindow.App.Controls.ProjectOblivion.DefaultUninstallStageCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:TidyWindow.App.ViewModels"
             mc:Ignorable="d"
             d:DataContext="{d:DesignInstance Type=viewModels:ProjectOblivionTimelineStageViewModel}">
    <Border Style="{StaticResource PopupCardStyle}" Margin="0,0,0,18">
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <StackPanel>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ§¼" FontSize="30" Margin="0,0,12,0"/>
                    <StackPanel>
                        <TextBlock Text="{Binding Title}" FontSize="18" FontWeight="SemiBold" Foreground="#F8FAFC"/>
                        <TextBlock Text="{Binding Description}" Foreground="#94A3B8" FontSize="13" TextWrapping="Wrap"/>
                    </StackPanel>
                </StackPanel>
                <TextBlock Text="{Binding Detail}" Foreground="#E2E8F0" FontSize="13" FontWeight="SemiBold" Margin="0,12,0,0" TextWrapping="Wrap"/>
                <TextBlock Text="Run the vendor-provided uninstaller to clear the default artifacts before the deeper sweep begins."
                           Foreground="#CBD5F5" FontSize="12" Margin="0,6,0,0" TextWrapping="Wrap"/>
            </StackPanel>

            <StackPanel Grid.Column="1" Margin="24,0,0,0" HorizontalAlignment="Center">
                <Grid Width="120" Height="120">
                    <Ellipse Width="120" Height="120" Stroke="#1E3357" StrokeThickness="2" Opacity="0.45"/>
                    <Ellipse Width="90" Height="90" Stroke="#243B63" StrokeThickness="1.4" StrokeDashArray="6 8" Opacity="0.75"/>
                    <Path x:Name="SpinnerArc" Stroke="#38BDF8" StrokeThickness="4" StrokeEndLineCap="Round">
                        <Path.Data>
                            <PathGeometry>
                                <PathFigure StartPoint="60,10" IsClosed="False">
                                    <ArcSegment Point="90,60"
                                                Size="50,50"
                                                RotationAngle="0"
                                                SweepDirection="Clockwise"/>
                                </PathFigure>
                            </PathGeometry>
                        </Path.Data>
                        <Path.RenderTransform>
                            <RotateTransform Angle="0" CenterX="60" CenterY="60"/>
                        </Path.RenderTransform>
                        <Path.Style>
                            <Style TargetType="Path">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Status}" Value="Active">
                                        <DataTrigger.EnterActions>
                                            <BeginStoryboard x:Name="SpinnerRotateStoryboard">
                                                <Storyboard RepeatBehavior="Forever">
                                                    <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                                                                     From="0"
                                                                     To="360"
                                                                     Duration="0:0:1.8"/>
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </DataTrigger.EnterActions>
                                        <DataTrigger.ExitActions>
                                            <StopStoryboard BeginStoryboardName="SpinnerRotateStoryboard"/>
                                        </DataTrigger.ExitActions>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Path.Style>
                    </Path>
                </Grid>
                <TextBlock Text="Waiting for default uninstaller"
                           Foreground="#93C5FD"
                           FontSize="12"
                           Margin="0,12,0,0"
                           HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Border>

</UserControl>
