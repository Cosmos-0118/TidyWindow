<Window x:Class="TidyWindow.App.Views.Dialogs.RegistryRollbackDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:strings="clr-namespace:TidyWindow.App.Resources.Strings"
        mc:Ignorable="d"
        Title="{x:Static strings:RegistryOptimizerStrings.RollbackDialogTitle}"
        Width="420"
        Height="240"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="ToolWindow"
        ShowInTaskbar="False"
        Background="#0B1626">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/TidyWindow;component/Resources/RegistryOptimizer.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Border Background="#0F172A"
            BorderBrush="#1E293B"
            BorderThickness="1"
            CornerRadius="12"
            Padding="24">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <StackPanel Orientation="Horizontal">
                <Border Width="40"
                        Height="40"
                        Background="#1E3A5F"
                        CornerRadius="10"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">
                    <TextBlock Text="🛡️"
                               FontSize="20"
                               HorizontalAlignment="Center"
                               VerticalAlignment="Center"/>
                </Border>
                <StackPanel Margin="12,0,0,0">
                    <TextBlock Text="{x:Static strings:RegistryOptimizerStrings.RollbackDialogHeader}"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Foreground="#F8FAFC"/>
                    <TextBlock Text="{x:Static strings:RegistryOptimizerStrings.RollbackDialogDescription}"
                               Margin="0,6,0,0"
                               FontSize="12"
                               Foreground="#94A3B8"
                               TextWrapping="Wrap"/>
                </StackPanel>
            </StackPanel>

            <TextBlock x:Name="CountdownTextBlock"
                       Grid.Row="1"
                       Margin="0,16,0,0"
                       FontSize="14"
                       FontWeight="SemiBold"
                       Foreground="#38BDF8"/>

            <StackPanel Grid.Row="3"
                        Orientation="Horizontal"
                        HorizontalAlignment="Right"
                        Margin="0,24,0,0">
                <Button x:Name="KeepButton"
                        Content="{x:Static strings:RegistryOptimizerStrings.RollbackDialogKeep}"
                        Width="120"
                        Margin="0,0,12,0"
                        Click="KeepButton_Click"
                        Style="{StaticResource RegistrySecondaryButtonStyle}"/>
                <Button x:Name="RevertButton"
                        Content="{x:Static strings:RegistryOptimizerStrings.RollbackDialogRevert}"
                        Width="120"
                        Click="RevertButton_Click"
                        Style="{StaticResource RegistryAccentButtonStyle}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
