<UserControl x:Class="TidyWindow.App.Views.DriverUpdates.DriverUpdatesFiltersView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:controls="clr-namespace:TidyWindow.App.Views"
             xmlns:vm="clr-namespace:TidyWindow.App.ViewModels"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             d:DesignWidth="320"
             d:DesignHeight="600">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
    </UserControl.Resources>

    <StackPanel Orientation="Vertical"
                Margin="0,0,24,32"
                d:DataContext="{d:DesignInstance Type=vm:DriverUpdatesViewModel, IsDesignTimeCreatable=False}">
        <controls:PageTitleBar Title="Driver updates"
                               Subtitle="Detect and compare pending driver updates."
                               IconGlyph="ðŸ§©"
                               Margin="0,0,0,16"/>

        <Border Background="#12263F"
                BorderBrush="#1F365B"
                BorderThickness="1"
                CornerRadius="12"
                Padding="20"
                Margin="0,0,0,20">
            <StackPanel>
                <TextBlock Text="Driver intelligence that sticks"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Foreground="#F8FAFC"/>
                <TextBlock Text="Scans are cached just like Maintenance results. Refresh anytime to sync with Windows Update or focus on previously detected gaps."
                           Margin="0,10,0,0"
                           FontSize="13"
                           Foreground="#A5B4FC"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </Border>

        <Border Background="#0F172A"
                BorderBrush="#1E293B"
                BorderThickness="1"
                CornerRadius="12"
                Padding="16">
            <StackPanel>
                <TextBlock Text="Scan controls"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="#E2E8F0"/>

                <ToggleButton Content="Include optional updates"
                              Margin="0,12,0,0"
                              HorizontalAlignment="Stretch"
                              Padding="12,6"
                              FontSize="13"
                              FontWeight="SemiBold"
                              Foreground="#E2E8F0"
                              Background="#132238"
                              BorderBrush="#1F365B"
                              BorderThickness="1"
                              IsChecked="{Binding IncludeOptional, Mode=TwoWay}"/>

                <Button Content="Run driver scan"
                        Margin="0,12,0,0"
                        Padding="12,8"
                        FontSize="13"
                        FontWeight="SemiBold"
                        Command="{Binding RefreshCommand}">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Background" Value="#2563EB"/>
                            <Setter Property="Foreground" Value="#F8FAFC"/>
                            <Setter Property="BorderBrush" Value="#1D4ED8"/>
                            <Setter Property="BorderThickness" Value="1"/>
                            <Setter Property="Cursor" Value="Hand"/>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding IsBusy}" Value="True">
                                    <Setter Property="Opacity" Value="0.65"/>
                                    <Setter Property="IsEnabled" Value="False"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                </Button>

                <TextBlock Text="{Binding ActiveFiltersSummary}"
                           Margin="0,12,0,0"
                           FontSize="12"
                           Foreground="#38BDF8"
                           TextWrapping="Wrap"
                           Visibility="{Binding HasActiveFilters, Converter={StaticResource BooleanToVisibilityConverter}}"/>

                <TextBlock Text="Driver scan in progress..."
                           Margin="0,12,0,0"
                           FontSize="12"
                           Foreground="#38BDF8"
                           Visibility="{Binding IsBusy, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            </StackPanel>
        </Border>
    </StackPanel>
</UserControl>
