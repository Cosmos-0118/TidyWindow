Settings Redesign – blueprint
----------------------------

North star
- Turn Settings into a purposeful control center rather than a long scroll of toggles. Borrow Cleanup’s multi-phase structure by splitting settings into self-contained sub-pages (separate XAML files) hosted by a tabbed shell.
- Make automation a first-class concept so Install Hub, Maintenance, Cleanup, and Version Control can declare schedules/policies.

Proposed shell
- `SettingsShellPage.xaml` (lightweight navigation host) containing left rail nav + content frame. Each logical group gets its own `Settings*.xaml` file and view model.
- Mobile-width: collapsible nav drawer. Desktop: persistent rail (like Windows 11 Settings).

Pages & content
1. **General** (`SettingsGeneralPage`)
  - App theme, accent color sync, Open at login toggle (register/unregister Run key + Task Scheduler fallback).
  - Window behavior: restore size, show tips, enable telemetry.
  - Global keyboard shortcuts (future hook).
2. **Automation & Schedules** (`SettingsAutomationPage`)
  - Unified scheduler UI referencing each feature module. For every module (Maintenance inventory refresh, Cleanup scans, Install Hub bundle refresh, Version Control diff) expose: frequency (manual, daily, weekly, custom cron), run window, requires AC power toggle.
  - Option to “Auto-run maintenance updates” (call PackageMaintenanceService) and “Auto-clean temp files weekly.”
  - Surface upcoming run tiles + last run results.
3. **Notifications & Status** (`SettingsNotificationsPage`)
  - Control toast notifications for queued installs, completed cleanup jobs, automation success/failure.
  - Choose channels (in-app banner, Windows notification, email webhook future?).
4. **Integrations** (`SettingsIntegrationsPage`)
  - Package managers enabled (Winget, Chocolatey, Scoop). Toggle detection, set custom paths, authentication tokens for private feeds.
  - Cloud sync options (OneDrive/SharePoint) for sharing logs/configs.
5. **Data & Safety** (`SettingsDataPage`)
  - Backups/export: schedule config backups, choose path.
  - Restore points + rollback preferences for destructive automation.
  - Logging verbosity, anonymization, crash report opt-in.
6. **Advanced / Labs** (`SettingsLabsPage`)
  - Feature flags for new ideas (Version Control page, Install Hub rework). Provide context text + feedback links.

Automation design details
- Backend: introduce `AutomationScheduleService` that persists per-task schedules (JSON in `%ProgramData%\TidyWindow\schedules.json`). Each feature registers tasks with metadata (Id, DisplayName, Script/Callback, RequiresAdmin, EstimatedDuration).
- UI: timeline-like list showing next execution, last status, quick “Run now” action.
- Offer “Auto update when possible” for Maintenance (runs update command after inventory) and auto-clean for Cleanup (schedule weekly run using existing automation scripts).

Organization principles
- Each settings page gets its own view model; settings are grouped by scenario. No more dumping toggles in one file.
- Provide breadcrumbs, description text, and inline help for complex toggles (e.g., “Open at login uses the Run registry key; disable if you script your own startup”).
- Use consistent card layout (borrowed from Cleanup) with responsive breakpoints so content doesn’t feel cramped.

Implementation steps
1. Create `SettingsShellPage.xaml` + navigation view binding to a `SettingsShellViewModel` that manages selected section.
2. Split existing settings controls into new `Settings*.xaml` files placed under `Views/Settings/` folder for clarity.
3. Build `AutomationScheduleService` + persistence contract; expose through `MainViewModel` for other modules.
4. Wire each feature (Maintenance, Cleanup, Install Hub, Version Control) to read/write its automation preferences.
5. Add telemetry/logging that summarizes when auto tasks run, fail, or get disabled.

Stretch extras
- Add search box to the shell to jump to settings quickly.
- Sync settings across devices via cloud export/import.
- Offer “reset settings to defaults” + “export settings” buttons per page.